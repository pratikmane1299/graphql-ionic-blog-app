<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Comments</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="comments-container">
    <ion-list lines="none">
      <app-comment [comment]="comment" [loggedInUser]="user" (optionsClick)="showOptions($event)" *ngFor="let comment of comments"></app-comment>
    </ion-list>
  </div>
  <div class="comment-input-container">
    <form #commentForm="ngForm" class="comment-input-form">
      <input
        #comment="ngModel"
        name="comment"
        id="comment"
        class="comment-input"
        type="text"
        placeholder="Write something..."
        [(ngModel)]="commentText"
        required
      />
      <ion-button 
        fill="clear" 
        size="small" 
        class="comment-button"
        [disabled]="!commentForm.form.valid"
        (click)="addComment()"
        >
        Post
      </ion-button>
    </form>
  </div>
</ion-content>